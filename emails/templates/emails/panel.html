<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Panel de correos</title>
    <style>
        :root {
            --bg-light: #f9f9f9;
            --bg-dark: #1e1e1e;
            --text-light: #333;
            --text-dark: #eee;
            --border-color: #ccc;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            padding: 20px;
            background-color: var(--bg-light);
            color: var(--text-light);
            transition: background 0.3s, color 0.3s;
        }

        .dark-mode {
            background-color: var(--bg-dark);
            color: var(--text-dark);
        }

        select, button {
            padding: 8px;
            margin-top: 10px;
            border-radius: 4px;
            border: 1px solid var(--border-color);
        }

        iframe {
            width: 100%;
            height: 600px;
            border: 1px solid var(--border-color);
            margin-top: 20px;
            background: #fff;
        }

        .toggle-dark {
            margin-top: 20px;
            cursor: pointer;
            background: none;
            border: none;
            color: inherit;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            iframe {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <h2>Panel de visualizaciÃ³n de correos</h2>

    <form method="get" action="">
        <label for="template">Selecciona plantilla:</label>
        <select name="template" id="template">
            <option value="unificar.html" {% if template == 'unificar.html' %}selected{% endif %}>Unificada</option>
            <option value="email_restore.html" {% if template == 'email_restore.html' %}selected{% endif %}>Email Restore</option>
            <option value="password_restore.html" {% if template == 'password_restore.html' %}selected{% endif %}>Password Restore</option>
            <option value="verification.html" {% if template == 'verification.html' %}selected{% endif %}>Verification</option>
        </select>

        {% if template == 'unificar.html' %}
        <label for="type">Tipo de correo:</label>
        <select name="type" id="type">
            <option value="verify" {% if email_type == 'verify' %}selected{% endif %}>VerificaciÃ³n</option>
            <option value="reset" {% if email_type == 'reset' %}selected{% endif %}>Recuperar contraseÃ±a</option>
            <option value="change_email" {% if email_type == 'change_email' %}selected{% endif %}>Cambiar correo</option>
        </select>
        {% endif %}

        <button type="submit">Ver plantilla</button>
    </form>

    <button class="toggle-dark" onclick="toggleDarkMode()">ðŸŒ™ Cambiar modo</button>

    <iframe srcdoc="{% include 'emails/'|add:template %}"></iframe>

    <script>
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
        }
    </script>
</body>
</html>

